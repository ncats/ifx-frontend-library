@if (filters() && filters()?.size) {
<div class="row space-between-row">
  <div class="width-70">
    <span class="filter-row-title">Selected Filters:</span>
  </div>
  <div
    class="width-30 right-text"
    role="button"
    tabindex="0"
    (click)="removeAll()"
    (keydown.enter)="removeAll()"
  >
    <mat-chip (click)="removeAll()" (keydown.enter)="removeAll()">
      <span
        >Clear All
        <mat-icon
          matChipRemove
          class="removeIcon"
          (click)="removeAll()"
          (keydown.enter)="removeAll()"
          >cancel</mat-icon
        ></span
      >
    </mat-chip>
  </div>
</div>
}

<div class="selected-filter-grid">
  @for (filter of filters() | keyvalue; track filter.key) {
  <div>
    <div class="row space-between-row">
      <div class="facetHeader">
        <span class="mat-subheader">{{
          filter.key === 'q' ? 'Search String' : filter.key
        }}</span>
      </div>
      <div class="width-10">
        <button mat-icon-button (click)="removeFilterFamily(filter.key)">
          <mat-icon>clear</mat-icon>
        </button>
      </div>
    </div>
    @for (value of filter.value; track value) {
    <div>
      <div
        role="button"
        tabindex="0"
        class="primary-chip full-width space-between-row"
        (click)="removeField(filter.key, value)"
        (keydown.enter)="removeField(filter.key, value)"
      >
        {{ value }}<mat-icon class="removeIcon right-text">cancel</mat-icon>
      </div>
      <br />
    </div>
    }
    <br />
  </div>
  }
</div>
